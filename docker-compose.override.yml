
services:
    laravel.test:
        environment:
            XDEBUG_MODE: '${SAIL_XDEBUG_MODE:-develop,debug}'
            XDEBUG_CONFIG: '${SAIL_XDEBUG_CONFIG:-client_host=host.docker.internal start_with_request=yes idekey=VSCODE}'
        volumes:
            - '.:/var/www/html'
        extra_hosts:
            - 'host.docker.internal:host-gateway'
    mysql:
        command: --default-authentication-plugin=mysql_native_password
        environment:
            MYSQL_ROOT_PASSWORD: 'root'
        volumes:
            - 'sail-mysql:/var/lib/mysql'
    redis:
        command: redis-server --appendonly yes --requirepass "${REDIS_PASSWORD:-}"
    phpmyadmin:
        environment:
            PMA_ARBITRARY: 1
            PMA_HOST: mysql
            PMA_USER: root
            PMA_PASSWORD: root
            UPLOAD_LIMIT: 64M